class progresBar{constructor(init){this.init()}init(){let cocontainer = document.createElement("div");cocontainer.className = "cocontainer";let tetemplate = document.createElement("template");tetemplate.className = "tetemplate";let tetemplateProgressBar= document.createElement("progress");tetemplateProgressBar.max=100;tetemplateProgressBar.value=0;tetemplate.appendChild(tetemplateProgressBar);document.querySelector("body").appendChild(cocontainer);document.querySelector("body").appendChild(tetemplate); const styleString = `progress{display:block;width:100%;margin:1px 0;background:#cd4;height:3px;}progress[value]::-webkit-progress-bar {background-color: #fff;}progress[value]::-webkit-progress-value{background-color: red;}progress[value]::-moz-progress-bar{background-color: #02d1a4;}.container,.cocontainer{position:absolute;top:0;bottom:0;left:0;right:0;background:#fff9}.container,.cocontainer{display:none;}`;let style = document.createElement("style");let head = document.querySelector("head");style.innerHTML += styleString;head.appendChild(style); }loader(time) {return new Promise(resolve=>{let ccontainer =document.querySelector(".cocontainer"),tetemplate =document.querySelector(".tetemplate");let elementf = function(){ ccontainer.style.display = "unset !important"; let proprogress = document.importNode(tetemplate.firstElementChild, true); ccontainer.appendChild(proprogress); setTimeout(()=>{if(element.value == element.max){ clearInterval(tick); resolve();}ccontainer.style.display="none";element.remove() },Number(time+2000));return ccontainer.querySelector("progress:last-child") };elementf();let intervalId,element = ccontainer.querySelector("progress:last-child");function tick(){element.value = parseInt(element.value, 10)+1;}ccontainer.style.display="unset";setInterval(tick,time / element.max);})}}